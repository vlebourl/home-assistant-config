platform: template
sensors:
  button_lock_last_used_date:
    friendly_name: Button Lock Last Used Date
    value_template: >-
      {{ state_attr('remote.interrupteur_entree','last_updated')[0] }} {{ state_attr('remote.interrupteur_entree','last_updated')[1] }}
  button_lock_button_used:
    value_template: >-
      {% if states.remote.interrupteur_entree.state == "right_upper_release" %}
        unlock
      {% elif states.remote.interrupteur_entree.state == "right_lower_release" %}
        lock
      {% else %}
        unknown
      {% endif %}
  button_lock_last_used_seconds:
    value_template: >-
      {{ (as_timestamp(utcnow()) - as_timestamp(strptime(states.sensor.button_lock_last_used.state,'%Y-%m-%d %H:%M:%S'))) | int }}
